Flowchart
Metadata

url: http://192.168.33.19/master/docs/developers/modules/crm/flowchart
scraped_at: 2024-09-05T12:18:41.151440
last_updated: 2024-09-05T12:18:41.151477
parent_id: 21c021b76586e248072c806c95187f09
path: aPaczka Plugin/Dobre praktyki/Szkolenia - B2B/Zestawienie webinaria/Zestawienie eSzkolenia/Inter stal/Handel/Magazyn/Praca z czytnikiem/Rozliczenie produkcji/Ustawienia Przyjmowanie Towaru na pakowaniu/Laguna/Analizy/Okucia/Montan stal/Flowchart
meta_tags: ['amag', 'grafu', 'sealed', 'flowchart', 'mycvs', 'element', 'controls', 'tylko', 'dane', 'dziedziczyć']

Content
Dodawanie nowego elemntu do procedur spraw

Dodać nowy typ elementu do eFlowchartElementDataType (D:\mycvs\Amag\managerdll\manager\special\FlowchartData.h)
Utworzyć nową klasę dziedzicząca po Element zobaczyc przykłady: Amag.Controls.Flowchart.Elements.IFElement, Amag.Controls.Flowchart.Elements.StateElement
(opcjonalnie) Utworzyć nową klasę dziedzicząca po ElementController, jeżeli planujemy nadać dodatkową logikę, np: dialog otwierany po kliknięciu. zobaczyc przykłady: Amag.Controls.Flowchart.Elements.AskController, Amag::Controls::Flowchart::CMStanProcedurySprawyController, Amag::Controls::Flowchart::CMAttachmentStateChangerController
Dodać sposób konwersji pomiędzy eFlowchartElementDataType a System::Type (typ dziedziczący po Element) CMFlowchartDataManager::GetElementType (D:\mycvs\Amag\managerdll\managed\MFlowchartDataManager.cpp)
Dokonać stosownych zmian w CProceduraSprawyFlowchartExecutor, dokładnie w sposobie przechodzenia po elementach CProceduraSprawyFlowchartExecutor::MoveNext, CProceduraSprawyFlowchartExecutor::MoveToState (D:\mycvs\Amag\zdarzeniadll\sprawa\logic\ProceduraSprawyFlowchartExecutor.cpp)
Dodać nowy element do menu dialogu edycji schematu blokowego CProceduraSprawyFlowchartHelper::ShowFlowchartDialog (D:\mycvs\Amag\zdarzeniadll\sprawa\logic\ProceduraSprawyFlowchartHelper.cpp)
Dokonać stosownych zmian w procedurze walidacji grafu CMProceduraSprawySaver::Check (D:\mycvs\Amag\zdarzeniadll\doclogic\flowchart\MProceduraSprawySaver.cpp) (D:\mycvs\Amag\Amag.Forms.Flowchart\FlowchartData.cs)

Definicje (C#)

ElementData (sealed, tylko dane) - element definicji struktury grafu. Dane: id, wartość, rozmiar i położenie, typ elementu.
ElementConnectorData (sealed, tylko dane) - element definicji struktury grafu. Dane na temat połączeń elementów.
FlowchartData (sealed, tylko dane) - struktura grafu.
Element - odpowiada za wyświetlanie obiektu na grafie, definiuje sposób relacji z innymi elementami. (logika tylko na poziomie grafu, tj. wyświetlanie, relacje z elementami). ABy dodać nowy typ elementu do grafu należy dzidziczyć po tej klasie.
ElementConnector (sealed)- odpowiada za łączenie elementów na grafie. (logika tylko na poziomie grafu, tj. wyświetlanie, relacje z elementami)
ElementController - steruje zachowaniem danego elemenu (np. zachowanie po kliknięciu tj. otwarcie dialogu) oraz jego wartością. Można przyporządkować dowolny kontroler do dowolnego elemntu. Aby rozszerzć zachowanie elemntu należy dziedziczyć to tej klasie.
ElementsControllersCollection (sealed) - lista [type elementu, kontroler] - definiuje jaki kontroler steruje danym typemm elemenu na grafie, jeżeli nie ma takiej definicji zastanie użyty domyślny kontroler zdefiniowany na lemencie w atrybucie ElementAttribute.
FlowchartEditorMenuDefinition (sealed) - definicja menu na dialogu grafu.
IFlowchartSaver - klasa zarządzająca zapisem grafu, sprawdzenie poprawności itd.

Definicje (C++)

CFlowchartElementData [sealed] - odpowiednik IElementData (nie dziedziczyć).
CFlowchartElementConnectorData (sealed) - odpowiednik IElementConnectorData (nie dziedziczyć).
CFlowchartData (sealed) - odpowiednik IFlowchartData. Posiada dodatkowo możliwość zapisu/odczytu z/do BD (nie dziedziczyć).
CFlowchartExecutor - odpowiada za wykonanie grafu, np: przejście przez procedurę. Aby dodać nową logikę do przechodzenia po grafie należy dziedziczyć po tej klasie.
