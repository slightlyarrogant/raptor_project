# Orlen Paczka Plugin

## Informacje ogóle

Implementacja rozwiązania w systemie Vendo miało na celu stworzenie uniwersalnego plugina mającego umożliwienie komunikacji jak również wymiany danych pomiędzy spedytorem Orlen a systemem VENDO. Zasadza działania wygląda analogicznie jak w przypadku pozostałych spedytorów 

## Wytyczne do wdrożenia

### Niezbędne informacje

#### Dane dostępowe do środowiska testowego i produkcyjnego po stronie Orlen:

1. Login  
2. Hasło
3. Allegro Login
4. Allegro ID

**Dane te muszą być ustawione w parametrach pracy spedytora na wszystkich stanowiskach, z których będzie odbywać się wysłka listów przewozowych.**

W parametrach pracy jest też dostępny checkbox do ustawienia korzystania z serwisów testowych.

### Szczegóły usług oferowanych przez Orlen:

#### Wybór i ustawienia usług

1. Sposoby dostaw Allegro dostępne są z poziomu słownika spedycjnego:

	- Allegro Orlen Paczka 10007
	- Allegro Orlen Paczka pobranie 20007

2. Sposoby płątności Allegro dostępne są z poziomu słownika spedycjnego:

	- Allegro płatność Online
	- Allegro płatność przy odbiorze

3. Tytuł przelewu dla płatności za pobraniem
    
	- Generowany jest na podstawie ustawień wyrażenia

## Konfiguracja

Przed przystąpieniem do pracy konieczne jest podegranie stosownego plugina. Konfiguracji takiej dokonujemy z poziomu:

`Ustawienia` > `Główne` > `Pluginy` > `Dodaj plugin`

W następnym etapie konfiguracyjnym należy przejść do ustawień odpowiedzialnych za komunikacje pomiędzy systemem Vendo a Orlen. Dokonujemy tego z poziomu:

`Ustawienia` > `Główne` > `Parametry pracy` > `Logistyka` > `Spedytorzy` > `Ustawienie globalne` > `Orlen Plugin`

Ustawienia parametryzowane z tego poziomu, należy ustawić wspólnie z opiekunem przydzielonym przez spedytora. Dane które należy uzupełnić:
- *Login*
- *Hasło* 
- *Allegro Login*
- *Allegro ID*
- *Hasło dla usługi trackingu*


W kolejnym etapie konfiguracji, naleąy przejść do ustawień słowników systemowych. Parametryzacja taka wykonywana jest wspólnie ze opiekunem przydzielonym przez spedytora. Dostępna jest ona poprzez wybór: `Ustawienia` > `Główne` > `Słowniki` > `Logistyka` : `Spedycje` > `OrlenPaczka`.

Po wyświetleniu ustawień konfiguracyjnych, zakładka > Ogólne > konfigurowana jest w standardowy sposób dla wszystkich spedytorów.

Konfiguracja odnosząca się do Spedytora Orlen Paczka dostępna jest z poziomu zakładki "Dodatkowe".

W zakładce "Orlen Paczka Plugin" zaznaczyć można dodatkowe usługi, sposoby odstawy i nadać priorytet wysyłek

System Vendo odpowiada za poprawne przesłanie danych do Orlen za pośrednictwem API, na podstawie zdefiniowanych parametrów podczas konfiguracji ustawień. W systemie nie ma domyślnych ustawień dostępnych po uruchomieniu plugina. 

 
## Zasada działania.

Wywołanie funkcjonalności odbywa się z poziomu `Menu głównego` > `Logistyka` > `Listy przewozowe`. Opis funkcjonalności "Zakładek" Listu przewozowego opisany jest w oddzielnej dokumentacji.   

Funkcjonalność plugina, po odpowiedniej jego konfiguracji, polega na wywołaniu danych udostępnianych przez spedytora za pośrednictwem API. Dane te widoczne będą podczas generowania wydruku etykiet jak i listów przewozowych, tam właśnie prezentowane sa wszystkie informacje które zostały zdefiniowane na etapie konfiguracji. 

Z poziomu dialogu "Dane spedytora" użytkownik ma możliwość wydruku Etykiet listu przewozowego. Generowanie wydruku możliwe jest z poziomu listy Listów przewozowych.