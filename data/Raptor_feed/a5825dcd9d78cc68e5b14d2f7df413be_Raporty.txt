Raporty
Metadata

url: http://192.168.33.19/master/docs/developers/ui/reports
scraped_at: 2024-09-05T12:18:46.286059
last_updated: 2024-09-05T12:18:46.286091
parent_id: 21c021b76586e248072c806c95187f09
path: aPaczka Plugin/Dobre praktyki/Szkolenia - B2B/Zestawienie webinaria/Zestawienie eSzkolenia/Inter stal/Handel/Magazyn/Praca z czytnikiem/Rozliczenie produkcji/Ustawienia Przyjmowanie Towaru na pakowaniu/Laguna/Analizy/Okucia/Montan stal/Raporty
meta_tags: ['value', '_focueditem', '_selecteditems', 'nameof', 'public', 'object', 'false', 'focuseditem', 'selecteditems', 'mylistreportviewproperty']

Content
Jak osadzić raport na View Model'u
private object _focuedItem;
private IList _selectedItems = new object[0];

[UILayout(0, 0, RowSizeMode = TBS.UI.SizeMode.Fill)]
[UILabel(Show = false)]
[UIList(FocusedRowProperty = nameof(FocusedItem), SelectedRowsProperty = nameof(SelectedItems), SelectMode = UIListSelectMode.CheckBoxes)]
public ListReportView MyListReportViewProperty { get; }

[Browsable(false)]
public object FocusedItem
{
    get { return _focuedItem; }
    set
    {
        if (_focuedItem != value)
        {
            _focuedItem = value;
            CallPropertyChanged(nameof(FocusedItem));
        }
    }
}

[Browsable(false)]
public IList SelectedItems
{
   get { return _selectedItems; }
    set
    {
        if (_selectedItems != value)
        {
            _selectedItems = value;
            CallPropertyChanged(nameof(SelectedItems));
        }
    }
}

public MyClass()
{
    MyListReportViewProperty = ListReportManager.CreateListReportView("ReportName", 123 /*templateId*/);
}

Pobieranie danych z raportu

Funkcja dostępna od wersji 2018-05-24 14:00 p. 98

object value = MyListReportViewProperty.DataSoruce.GetValue('full_property_name', rowIndex);

Nazwę właściwości można pobrać z dialogu ustawień listy (pole "Full Path"). Dodatkowo przed pobraniem wartości, należy się upewnić, że:

dane zostały załadowane (IsLoaded, ładowanie można wymusić funkcją ForceLoad()),
lista posiada rekordy (RowCount).
właściwość występuje w danych (HasProperty('full_property_name')),


Jeżeli właściwość nie została dodana do widoku lub danych, wtedy metoda GetValue zwróci null.

Aby pobrać klucz/id danego wiersza, można wykorzystać metodę GetKey(rowIndex).