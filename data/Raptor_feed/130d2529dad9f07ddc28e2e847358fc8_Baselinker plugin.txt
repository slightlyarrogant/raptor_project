Baselinker plugin
Metadata

url: http://192.168.33.19/master/docs/plugins/standard/baselinker-plugin
scraped_at: 2024-09-05T12:19:37.893291
last_updated: 2024-09-05T12:19:37.893383
parent_id: 21c021b76586e248072c806c95187f09
path: aPaczka Plugin/Dobre praktyki/Szkolenia - B2B/Zestawienie webinaria/Zestawienie eSzkolenia/Inter stal/Handel/Magazyn/Praca z czytnikiem/Rozliczenie produkcji/Ustawienia Przyjmowanie Towaru na pakowaniu/Laguna/Analizy/Okucia/Montan stal/Baselinker plugin
meta_tags: ['vendo', 'baselinkera', 'jeśli', 'towary', 'klienta', 'zamówienia', 'towarów', 'będzie', 'jest', 'synchronizacji']

Content
Baselinker plugin
Wstęp
Przed przystąpieniem do konfiguracji integracji Baselinkera u klienta, musi mieć on wykupiony dostęp do pluginu Baselinker oraz posiadać konto na stronie Baselinker skąd należy pobrać token do wprowadzenia w pluginie. Opcjonalnie, jeżeli klient będzie chciał żeby synchronizacja zamówień oraz stanów odbywała się automatycznie, musi mieć wykupioną również licencję do trybu automatycznego BOT.
Konfiguracja pluginu oraz wprowadzenie ustawień
Zaczynając konfigurację wgrywamy plugin do klienta. Kopiujemy plik z pluginem lokalnie na komputer, z którego będziemy dokonywać podegrania pluginu w programie u klienta. Czyli po kolei krok 1 i 2 z poniższej ilustracji.

Po podegraniu przechodzimy do edycji mechanizmu pluginu, tak jak pokazano na powyższym zrzucie w kroku 3 klikając w ikonkę narzędzi tego pluginu.
Budowa okna pluginu BaseLinker
Po otwarciu okna, w którym dokonujemy konfigurację dla klienta dostępne jest zakładka Ustawienia. W tej zakładce będą znajdowały się profile utworzone dla klienta odnośnie integracji.
Dodanie nowego profilu i konfiguracja zakładki Główne
Aby skonfigurować nowy profil u klienta należy wybrać zielony plusik, ukaże się wtedy do wypełnienia karta z polami. Pola są podzielone na cztery sekcje: Główne, Produkty, Zamówienia, Kategorie.

W sekcji Główne należy podać nazwę profilu (widoczne tylko w Vendo), skopiować token czyli klucz do integracji dostępny na stronie Baselinkera po zalogowaniu się na swoje konto w Moje konto > Api – Token, podać ścieżkę do pliku gdzie będą zapisywane logi z synchronizacji, wskazać magazyn dostępny po zalogowaniu się na swoje konto w Baselinkerze. Unikalny numer uzupełni się automatycznie po wprowadzeniu tokenu. Następnie wybieramy system zewnętrzny z którego korzystamy czyli Baselinker. Systemy zewnętrzne definiujemy w Ustawiania -> Słowniki -> Systemy zewnętrzne.

W sekcji Produkty decydujemy jakie towary mają podlegać synchronizacji. Wyróżniamy tu następujące ustawienia:

Stan towaru z kilku magazynów zaznaczenie spowoduje pojawienie się w tym miejscu listy z dostępnymi w Vendo magazynami do wyboru (tak jak na poniższym zdjęciu), gdy pozostanie odznaczone wtedy będzie do wyboru opcja „Magazyn stanu towaru”, gdzie wskazujemy konkretny magazyn,



Grupa cen - ustawiamy grupę ceny detalicznej, która ma być wyeksportowana z karty towaru do Baselinkera,
Grupa cen hurtowych – możliwość wskazania grupy cen z Vendo dotyczącej cen hurtowych,
Pozwalaj na ceny 0.00 – zaznaczenie spowoduje pokazanie w Baselinkerze produktów również z cenami zerowymi, gdy zostanie to odznaczone wtedy podczas gdy będziemy próbowali wyeksportować taki towar do Baselinkera w pliku z logami będzie znajdowała się informacja Towar o ID 1234 nie ma ustawionej ceny w grupie GRUPA CEN,
Eksportuj zdjęcia - sprawia, że jeżeli kartoteki posiadają zdjęcia produktów to będą one eksportowane do Baselinkera, maksymalnie może być 5 zdjęć o wielkości do 1 MB (jest to narzucone z góry od Baselinkera),
Uwzględnij ceny indywidualne – zaznaczenie spowoduje branie pod uwagę również ceny indywidulanej w Vendo oraz dodania drugiego parametru „Rodzaj klienta”, gdzie wybieramy pod jaki rodzaj klienta mają być uwzględniane ceny indywidualne towaru. Przeznaczone jest to dla cen promocyjnych. Rodzaje klienta ustawia się w Ustawienia > Słowniki > Rodzaje klienta.


W sekcji Zamówienia decydujemy o szczegółach powstania nowego dokumentu jaki zostanie przesłany ze sklepu do Vendo. Dostępne opcje do ustawienia w tym miejscu to:

Koszt transportu – wskazujemy z listy kartotek towarowych dostępnych w Vendo, która z nich ma być przyporządkowywana jako usługa transportowa jeżeli pojawi się transport w zamówieniu, cena zostanie pobrana z Baselinkera,
Seria ZO – wybieramy na jaką serię maja być tworzone zamówienia generowane ze sklepu, można utworzyć specjalnie osobną serię (Ustawienia -> Słowniki -> Serie dokumentów) dla zamówień z Baselinkera,
Magazyn ZO – wybieramy jaki magazyn ma się ustawiać na zamówieniach generowanych ze sklepu,

Klient stały – odznaczenie tej opcji spowoduje, że gdy podczas wprowadzania zamówienia z Baselinkera system nie znajdzie klienta, założona zostanie kartoteka tymczasowa. Jeśli ta opcja zostanie zaznaczona program utworzy kartotekę główna (pracownik nie będzie mógł jej usunąć). Wyszukiwanie klientów odbywa się w następujący sposób:

jeśli w zamówieniu mamy NIP (firma) to system wyszukuje klientów w Vendo po NIP’ie (znaki specjalne jak spacje czy „-” są pomijane), jeśli nie znajdzie to tworzy kartotekę tymczasową lub stałą (jeśli zaznaczony checbox). Jeśli system znajdzie więcej niż jednego klienta z takim NIP’em to weźmie pierwszego z brzegu – z najniższym ID,
jeśli nie ma NIP’u to szukamy po emailu, jeśli nie znajdzie to taka sama sytuacja jak wyżej,



Zamówienia od dnia – ustawiamy datę od kiedy chcemy aby pierwsze zamówienia zostały pobrane do Vendo,

Numer obcy – dane które ustawią się na zamówieniu w polu „Numer obcy” – możemy tu użyć makr [NAZWA] – nazwa ingegracji, [ID_BASELINKER] – ID zamówienia w Baselinerze, [ID_BASELINKER_EXTERNAL] – ID zamówienia z systemu bazowego (na przykład allegro), [LOGIN] – login klienta który złożył zamówienie,
Towar z rezerwacja – zaznaczanie tego pola spowoduje, że na ZO utworzy się towar z rezerwacją,
Domyślna realizacja – gdy zaznaczone, to nie będzie pobierana realizacja z Baselinkera (faktura/paragon), tylko na ZO ustawi się domyślna realizacja zgodnie z ustawieniami programu,
Synchronizuj niewyeksportowane towary – istnieje taka możliwość, że klient nie chce eksportować danych z Vendo do Baselinkera (kategorie, towary, jednostki), bo na przykład ma już utworzoną bazę towarową w sklepie (opisy, zdjęcia) i nie chce ponownie wprowadzać tych danych w Vendo. Jest to przez nas nie zalecane, bo Baselinker pełni rolę konektora (jeśli wyślemy produkty do Baslinkera to możemy ustawić automatyczną synchronizacje ze wszystkimi platformami, z którymi integrację ma Baselinker). Vendo w tej integracji pełni rolę mastera (wszystkie operacje robimy w Vendo np. zmiany nazw towarów, opisów, zdjęć, pobieranie zamówień, wystawianie faktur). Aczkolwiek, jest możliwość korzystania z integracji bez synchronizacji bazy produktowej. W przypadku zaznaczenia opcji „Synchronizuj niewyeksportowane towary” pojawi się combobox z wyborem po jakim parametrze ma się odbywać parowanie towarów (SKU – kod towaru w systemie zewnętrznym np. allegro). Jeśli kody towarowe są zgodne w Vendo i systemem zewnętrznym (np. allegro) to podczas pobierania zamówień plugin próbuje wyszukać towary w Vendo po kodzie – jeśli nie znajdzie tworzona jest kartoteka tymczasowa i w takim przypadku pracownik musi albo ją scalić z istniejącą kartoteką albo podmienić na inną. Analogicznie sytuacja wygląda jeśli zaznaczymy „EAN”,
Podmieniaj kartotekę w przypadku ceny ujemnej (kod rabatowy) - gdy okaże się, że na zamówieniu z Baslinkera będzie pozycja „Kod rabatowy”- ma on cenę ujemną. Jeśli zaznaczymy tego checkboxa i wybierzemy towar to plugin zachowa się tak samo jak w przypadku transportu – do Vendo zostanie zaciągnięta wybrana kartoteka a cena z Baselinkera.
Eksportuj numer listu przewozowego – zaznaczenie spowoduje pobranie numeru listy przewozowego do zamówienia w Vendo,
Status nowy ZO – w momencie gdy zostanie pobrane nowe zamówienie do Vendo można ustawić, żeby został automatycznie nadany nowy wskazany w konfiguracji status dla tego ZO.

W następnej sekcji Kategorie wskazujemy które kategorie będą widoczne w Baselinkerze. W tym miejscu wskazujemy czy ma to być Grupa I, Grupa II czy Grupa WWW towarów lub Katalog towarów.

W przypadku grup program będzie synchronizował całą wskazaną grupę. Odnośnie Katalogu to my decydujemy w jakich katalogach mają być pokazane i synchronizowane towary w sklepie. Żeby to poprawnie skonfigurować, należy najpierw potworzyć wspomniane katalogi. Dodajemy je w Ustawienia > Słowniki > Drzewa kategorii.


W tym miejscu tworzymy odpowiednie kategorie towarów, które po synchronizacji ze sklepem będą widoczne właśnie w takim układzie. Następnie należy przyporządkować dane kategorie do towarów w programie. Przechodzimy do modułu Magazyn -> Towary, otwieramy dany towar i wchodzimy w Funkcje > Katalog towarów.

Po otwarciu okienka wskazujemy do jakiego katalogu ma przynależeć dany towar.

Jest możliwość przyporządkować towary do danej kategorii hurtowo za pomocą operacji blokowych na liście towarów. W takim przypadku zaznaczamy towary, które nas interesują na liście towarów a następnie Funkcje -> Operacje blokowe -> Przydział katalogu towarów. Wskazujemy w ten sam sposób jak na pojedynczym towarze i klikamy przycisk Dodaj. Zaznaczenie opcji „Bez pustych grup” spowoduje, że towary które nie mają przypisanej grupy nie będą synchronizowane.
Konfiguracja zakładki Płatności

W zakładce Płatności program skupia dostępne płatności z Baselinkera do sparowania z płatnościami dostępnymi w Vendo. Podczas pobierania zamówień z Baselinkera forma płatności przychodzi w postaci tekstu. Musimy ją więc zmapować na formę płatności w Vendo. W lewej kolumnie wpisujemy tekst jaki przychodzi z Baselinkera na przykład „Płatność przy odbiorze” a w prawej wybieramy z listy jaka to forma płatności w Vendo np. „Pobranie”. Ważne jest, aby wpisując tekst się nie pomylić – system porównuje dwa teksty i jeśli nie będą identyczne, to nie znajdzie danej formy w Baselinkerze. W takim przypadku jest ustawienie „bezpieczeństwa” Domyśla płatność – ustawi się, gdy system nie znajdzie takiej wartości w tabelce lub tabelka będzie nieuzupełniona.
Przyporządkowanie towarów oraz synchronizacja
Po wykonanej konfiguracji należy dokonać synchronizacji odpowiednich parametrów, które konfigurowaliśmy. Proces wymiany danych rozpoczyna się od zsynchronizowania kategorii i jednostek magazynowych. Wywołuje się ją z ustawień Plugina, klikamy przycisk Funkcje > Synchronizuj.

Kiedy mamy zsynchronizowane kategorie możemy przejść do dalszej integracji. W module Magazyn na zakładce Towary z listy zaznaczamy checkboxem, które towary mają być brane pod uwagę późniejszej wymiany z Baselinkerem. Należy wskazać odpowiednią przynależność do systemu zewnętrznego – Baselinkera. Aby to zrobić, korzystamy z Funkcje > Operacje blokowe > Współpraca z systemami zewnętrznymi > wybieramy z listy opcję BaseLinker.

Następnie możemy przejść już do samej synchronizacji. Synchronizacji z Baselinkerem dokonujemy z tego samego miejsca (lista towarów) zaznaczając odpowiednie kartoteki z listy i klikając Funkcje > Baselinker > Synchronizuj zaznaczone produkty baselinker.

Pola jakie są synchronizowane to:

Kategoria,
Nazwa,
SKU – kod towaru w Vendo,
Ean,
Ilość – stan na wybranym magazynie,
Cena netto z wybranej grupy,
Cena hurtowa z wybranej grupy,
Vat,
Opis,
Zdjęcia,
Nazwa producenta.

Jeśli podczas synchronizacji produktów wystąpi błąd, to pokaże się komunikat: Podczas synchronizacji produktów wystąpiły błędy, sprawdź logi. W pliku logu zapisze się co jest błędne w konkretnym towarze. Nie wyeksportują się tylko towary wypisane w logu – jeśli nie ma informacji w logu na temat konkretnego towaru, to znaczy że wyeksportował się on prawidłowo.
Pobieranie zamówień z BaseLinkera
Kiedy mamy już zsynchronizowane towary i kategorie możemy przejść do pobierania zamówień. Na dowolnej liście dokumentów klikamy prawym klawiszem myszy BaseLinker > Pobierz zamówienia. Plugin pobierze zamówienia z Baselinkera i utworzy dokumenty ZO. Utworzą się zamówienia zgodnie z parametrami, które zostały wybrane w ustawieniach plugina (seria, magazyn, itp).

Jeśli Vendo nie znajdzie jakiegoś towaru (będzie on utworzony w Shoperze a w Vendo takiego towaru nie będzie) utworzy się kartoteka tymczasowa. Pracownik będzie mógł taki towar zmodyfikować i zatwierdzić. W kolejnym zamówieniu dla tego towaru na ZO pojawi się prawidłowa kartoteka.
Automatyczne pobieranie zamówień z BaseLinkera - BOT
Jest możliwość aby wspomniane pobieranie zamówień odbywało się w sposób automatyczny w Vendo. Do tego będziemy potrzebowali ustawienia synchronizacji w trybie automatycznym czyli na bocie. Żeby klient mógł skorzystać z takiego rozwiązania musi mieć wykupioną licencję na bota. Oprócz pobierania zamówień jest możliwość również synchronizacji stanów magazynowych. W pliku konfiguracyjnym bota należy ustawić odpowiednie zadania oraz co jaki czas mają się synchronizować dane. Plik konfiguracyjny bota musi mieć rozszerzenie cfg np. bot.cfg. Poniżej zapisy zadań do ustawienia w bocie:
[PluginTask]
name=BaseLinkerSychStock
cronTxt=0 6 * * *

[PluginTask]
name=BaseLinkerSychOrders
cronTxt= */15 * * * *

Images














