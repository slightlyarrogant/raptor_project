Import plugin
Metadata

url: http://192.168.33.19/master/docs/plugins/standard/import-plugin
scraped_at: 2024-09-05T12:20:38.629600
last_updated: 2024-09-05T12:20:38.629646
parent_id: 21c021b76586e248072c806c95187f09
path: aPaczka Plugin/Dobre praktyki/Szkolenia - B2B/Zestawienie webinaria/Zestawienie eSzkolenia/Inter stal/Handel/Magazyn/Praca z czytnikiem/Rozliczenie produkcji/Ustawienia Przyjmowanie Towaru na pakowaniu/Laguna/Analizy/Okucia/Montan stal/Import plugin
meta_tags: ['importu', 'oraz', 'pliku', 'etapu', 'kroku', 'metody', 'wejściowym', 'ramach', 'dane', 'wartości']

Content
Import plugin
Wprowadzienie
Import plugin umożliwia uruchamianie metod API Vendo bez konieczności programowania. Żródłem danych do importu jest plik w formacie Excel (xls, xlsx). Wywołania konkretnych metod API zwane dalej Krokami są grupowane w Etapy , które w końcowym efekcie składają się na Procedure importu.
Słownik pojęć
Krok
Podstawowy element procedury importu, odpowiada za wywołanie pojedynczej metody API Vendo. Na definicję kroku składa sie nazwa metody API oraz słownik mapujący nazwy wyłaściwości w modelu wejściowym metody API do nazw kolumn w pliku wejściowym. Dodatkowo w ramach kroku istnieje możliwość zdefiniowania preprocesora wstępnie przygotowujacego dane do eksportu za pomocą wartości stałych, wyrażeń dynamicznych i zapytań SELECT SQL.
Etap
Etap umożliwia grupowanie kroków oraz zwrócenie wartości do wykorzystania w kolejnych krokach. W ramach jednego etapu mogą być definiowane metody API należące do tego samego kontrolera. Wykonanie etapu polega na sekwencyjnym wywoływaniu kolejnych kroków do uzyskania oczekiwanej wartości lub wystąpienia błędu.
Procedura
Procedura importu odpowiada za sekwencyjne wykonanie wszystkich etapów dla pojedynczego wiersza w pliku wejściowym. Błąd w trakcie wykonania któregokoliwek kroku przerywa wykonanie całego procesu. Każdy proces jest wykonywany w oddzielnej transakcji - w założeniu wystąpienie błędu będzie skutkowało cofnięciem wszystkich zmian wykonanych w ramach przetwarzania konkretnego wiersza.
Definiowanie procesu importu
Definiowanie nowego procesu importu odbywa się w dedykowanym konfiguratorze. Konfigurato dostepny jest w Pluginy - > Import plugin -> Ustawienia.

Etapy definiowania procedury importu:

Dodanie nowej procedury.
Dodanie nowego etapu oraz zdefiniowanie kontrolera API.
Dodanie kroków w ramach etapu.
Mapowanie właściwości z polami z pliku oraz wynikami poprzednich etapów.
Zdefiniowanie pola wynikowego etapu.

Mapowanie pól
Proces mapowania pól odbywa się na poziomie definicji kroku. Mapowanie może wskazywać na nazwę kolumny w pliku wejściowym, wynik poprzedniego kroku opisany według wzorca prefix #E + numer etapu np: #E1 lub definicję preprocesora.

Definowanie preprocesora
W celu zdefiniowania mechanizmy wstępnego przetwarzania danych należy na wierszu mapy pól klinkąć [PKM] - > Przetwarzanie wstępne. W oknie preprocesora możemy ustawić wartość stałą, wyrażenie dynamiczne lub zapytanie SQL. W zapytaniu SQL możemy korzystac z wartości odczytywanych z pliku lub zwróconych przez wcześniejsze etapy. W tym celu należy w zapytaniu otoczyć je klamrami {"nazwa pola"}.

Przygotowanie pliku wejściowego
Plik wejściowy musi być w formacie xls lub xlsx. Wszystkie dane muszą być zawarte w arkuszu o nazwie Dane. Dane muszą mieć układ wierszowy oraz umozliwać jednoznaczą identyfikację np: dwie kolumny nie mogą mieć tej samej nazwy.
Uruchamianie procesu importu.
W głównej wstędze programu należy uruchomić funkcję Importuj obiekty. Przed uruchomieniem należy wybrać wcześniej zdefiniowaną procedurę importu oraz plik wejściowy. Informacje o statusie przetworzenia wierszy będą wyświetlane na bieżąco w oknie logów. Istnieje możliwość zatrzymania importu - proces zatrzyma się po ukończeniu przetwarzania bieżącego wiersza.

Images



